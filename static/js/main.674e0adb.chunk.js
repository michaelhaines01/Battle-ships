(this.webpackJsonpbattleships=this.webpackJsonpbattleships||[]).push([[0],[,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s.n(i),n=s(8),c=s.n(n),r=s(3),o=(s(13),s(4)),h=s(1),l=(s(14),s(15),s(16),s(0)),u=function(e){var t=e.aiboard;return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"game-board",id:"human",children:t.map((function(t,s){return t.map((function(t,i){return!0===t.ship&&!1===t.hit?Object(l.jsx)("div",{className:"hidden",value:s,onClick:function(){e.handleClick(i,s)}},i):!0===t.hit&&!1===t.ship?Object(l.jsx)("div",{className:"aimiss",value:s,onClick:function(){console.log("already hit")},children:"X"},i):!0===t.hit&&!0===t.ship?Object(l.jsx)("div",{className:"aishiphit",value:s,onClick:function(){console.log("already hit")}},i):Object(l.jsx)("div",{className:"hidden",value:s,onClick:function(){e.handleClick(i,s)}},i)}))}))})})},j=(s(18),function(e){var t=e.playerboard;return Object(l.jsx)("div",{className:"game-board",id:"ai",children:t.map((function(e,t){return e.map((function(e,s){return!0===e.ship&&!1===e.hit?Object(l.jsx)("div",{className:"ship",value:t},s):!0===e.ship&&!0===e.hit?Object(l.jsx)("div",{className:"shiphit"}):!0===e.hit?Object(l.jsx)("div",{className:"hit",children:"X"}):Object(l.jsx)("div",{className:"hit"})}))}))})}),b=(s(19),function(e){var t=e.playersunkships,s=function(e){for(var t=[],s=0;s<e.ship.long;s++)!0===e.ship.sunk?t.push(Object(l.jsx)("div",{className:"shiphit",id:e.ship.ship})):t.push(Object(l.jsx)("div",{className:"ship",id:e.ship.ship}));return Object(l.jsx)("div",{className:"ship-container",children:t})};return Object(l.jsx)("div",{className:"ships-container",children:t.map((function(e){return Object(l.jsx)(s,{ship:e})}))})}),d=(s(20),function(e){var t=e.aisunkships,s=function(e){for(var t=[],s=0;s<e.ship.long;s++)!0===e.ship.sunk?t.push(Object(l.jsx)("div",{className:"shiphit",id:e.ship.ship})):t.push(Object(l.jsx)("div",{className:"ship",id:e.ship.ship}));return Object(l.jsx)("div",{className:"ship-container",children:t})};return Object(l.jsx)("div",{className:"ships-container",children:t.map((function(e){return Object(l.jsx)(s,{ship:e})}))})}),p=(s(21),function(e){var t=function(){return Object(l.jsx)("h1",{children:"AI turn"})},s=function(){return Object(l.jsx)("h1",{children:"Players turn"})},i=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:" LOL you will never beat me."}),Object(l.jsx)("button",{className:"buttons",onClick:function(){return e.setgameover(!0)},children:"Restart"})]})};return Object(l.jsxs)("div",{className:"messageboard-container",children:[!e.turn&&!e.winner.gameover&&Object(l.jsx)(t,{}),e.turn&&!e.winner.gameover&&Object(l.jsx)(s,{}),e.winner.gameover&&Object(l.jsx)(i,{})]})}),O=function(e){var t=e.playerboard,s=e.aiboard,a=Object(i.useState)(s),n=Object(r.a)(a,2),c=n[0],O=n[1],x=Object(i.useState)(t),v=Object(r.a)(x,2),m=v[0],f=v[1],y=Object(i.useState)({x:1,y:1}),g=Object(r.a)(y,2),k=g[0],N=g[1],S=Object(i.useState)(!1),w=Object(r.a)(S,2),C=w[0],M=w[1],q=Object(i.useState)(!0),I=Object(r.a)(q,2),A=I[0],E=I[1],L=Object(i.useState)({winner:"",gameover:!1}),P=Object(r.a)(L,2),X=P[0],B=P[1],J=Object(i.useState)([{ship:"battleship",sunk:!1,long:4},{ship:"destroyer",sunk:!1,long:3},{ship:"submarine",sunk:!1,long:3},{ship:"patrolboat",sunk:!1,long:2},{ship:"carrier",sunk:!1,long:5}]),R=Object(r.a)(J,2),T=R[0],z=R[1],D=Object(i.useState)([{ship:"battleship",sunk:!1,long:4},{ship:"destroyer",sunk:!1,long:3},{ship:"submarine",sunk:!1,long:3},{ship:"patrolboat",sunk:!1,long:2},{ship:"carrier",sunk:!1,long:5}]),F=Object(r.a)(D,2),G=F[0],H=F[1],K=function(){return!0===e.ai.allshipssunk()?(B({winner:"Player",gameover:!0}),!0):!0===e.player.allshipssunk()&&(B({winner:"AI",gameover:!0}),!0)},Q=function(){var t=e.player.aiattack(m,k,C);if(N(Object(h.a)({},t.lastshot)),f(Object(o.a)(t.gameboard)),M(t.hit),!0===t.hit&&!0===e.player.isshipsunk(m[t.lastshot.x][t.lastshot.y].display)){var s=G.findIndex((function(e){return e.ship===m[t.lastshot.x][t.lastshot.y].display||null}));V(s)}K(),E(!0)},U=function(e){var t=Object(o.a)(T);t[e]=Object(h.a)(Object(h.a)({},t[e]),{},{sunk:!0}),z(Object(o.a)(t))},V=function(e){var t=Object(o.a)(G);t[e]=Object(h.a)(Object(h.a)({},t[e]),{},{sunk:!0}),H(Object(o.a)(t))};return Object(l.jsx)("div",{className:"game-container",children:Object(l.jsxs)("div",{className:"twoboard-container",children:[Object(l.jsx)(b,{playersunkships:T}),Object(l.jsx)(u,{handleClick:function(t,i){if(!0!==X.gameover){var a=e.ai.receiveattack(i,t,s);if(O(Object(o.a)(a.gameboard)),!0===a.hit){if(!0===e.ai.isshipsunk(c[i][t].display)){var n=T.findIndex((function(e){return e.ship===c[i][t].display||null}));U(n,T,z)}K()}E(!1),setTimeout((function(){Q()}),1e3)}else console.log(X.gameover)},aiboard:c}),Object(l.jsx)(p,{turn:A,setturn:E,winner:X,setgameover:e.setgameover}),Object(l.jsx)(j,{playerboard:t}),Object(l.jsx)(d,{aisunkships:G})]})})},x=(s(22),function(e){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"board-container",children:Object(l.jsx)("div",{className:"game-board",children:e.board.map((function(e,t){return e.map((function(e,s){return!0===e.ship?Object(l.jsx)("div",{className:"ship-square",value:t},s):Object(l.jsx)("div",{className:"grid-square",value:t},s)}))}))})})})}),v=function(e,t){var s=t,i=[];return{shipname:e,hit:function(e){return i.push(e),i},shipsunk:function(){return s.length===i.length},shipcords:s}},m=function(){var e={carrier:v("carrier",5),battleship:v("battleship",4),destroyer:v("destroyer",3),submarine:v("submarine",3),patrolboat:v("patrolboat",2)},t=Object.keys(e),s=function(){return Math.floor(10*Math.random()+0)};return{aiattack:function(t,i,a){for(var n=!1;!1===n;)!0===t[i.x][i.y].ship&&!0!==t[i.x][i.y].hit?(e[t[i.x][i.y].display].hit("hit"),t[i.x][i.y]=Object(h.a)(Object(h.a)({},t[i.x][i.y]),{},{hit:!0}),i={x:i.x,y:i.y},a=!0,n=!0):i.x+1===10||i.y+1===10||i.x-1===-1||i.y-1===-1?i={x:s(),y:s()}:!0===t[i.x+1][i.y].ship&&!0!==t[i.x+1][i.y].hit?(e[t[i.x+1][i.y].display].hit("hi"),t[i.x+1][i.y]=Object(h.a)(Object(h.a)({},t[i.x+1][i.y]),{},{hit:!0}),i={x:i.x+1,y:i.y},a=!0,n=!0):!0===t[i.x-1][i.y].ship&&!0!==t[i.x-1][i.y].hit?(e[t[i.x-1][i.y].display].hit("hit"),t[i.x-1][i.y]=Object(h.a)(Object(h.a)({},t[i.x-1][i.y]),{},{hit:!0}),i={x:i.x-1,y:i.y},a=!0,n=!0):!0===t[i.x][i.y+1].ship&&!0!==t[i.x][i.y+1].hit?(e[t[i.x][i.y+1].display].hit("hit"),t[i.x][i.y+1]=Object(h.a)(Object(h.a)({},t[i.x][i.y+1]),{},{hit:!0}),i={x:i.x,y:i.y+1},a=!0,n=!0):!0===t[i.x][i.y-1].ship&&!0!==t[i.x][i.y-1].hit?(e[t[i.x][i.y-1].display].hit("hit"),t[i.x][i.y-1]=Object(h.a)(Object(h.a)({},t[i.x][i.y-1]),{},{hit:!0}),i={x:i.x,y:i.y-1},a=!0,n=!0):i={x:s(),y:s()};return{gameboard:t,lastshot:i,hit:a}},ships:e,receiveattack:function(t,s,i){var a=!0;return!0===i[t][s].ship&&!0!==i[t][s].hit?(e[i[t][s].display].hit(t),i[t][s]=Object(h.a)(Object(h.a)({},i[t][s]),{},{hit:!0}),{gameboard:i,hit:a}):(i[t][s]=Object(h.a)(Object(h.a)({},i[t][s]),{},{hit:!0}),{gameboard:i,hit:a=!1})},allshipssunk:function(){for(var s=0;s<t.length;s++)if(!0!==e[t[s]].shipsunk())return!1;return!0},createboard:function(){var e={ship:!1,hit:!1,display:"~"};return Array(10).fill(e).map((function(){return Array(10).fill(e)}))},isshipsunk:function(t){return!0===e[t].shipsunk()}}},f=function(e){var t=m(),s=m(),a=[{ship:"carrier",long:5,cords:[],vertical:!0},{ship:"battleship",long:4,cords:[],vertical:!1},{ship:"destroyer",long:3,cords:[],vertical:!0},{ship:"submarine",long:3,cords:[],vertical:!1},{ship:"patrolboat",long:2,cords:[],vertical:!0}],n=[{ship:"carrier",long:5,cords:[],vertical:!0},{ship:"battleship",long:4,cords:[],vertical:!1},{ship:"destroyer",long:3,cords:[],vertical:!0},{ship:"submarine",long:3,cords:[],vertical:!1},{ship:"patrolboat",long:2,cords:[],vertical:!0}],c=m().createboard(),u=Object(i.useState)(c),j=Object(r.a)(u,2),b=j[0],d=j[1],p=Object(i.useState)(c),v=Object(r.a)(p,2),f=v[0],y=v[1],g=Object(i.useState)(!1),k=Object(r.a)(g,2),N=k[0],S=k[1],w=Object(i.useState)(!1),C=Object(r.a)(w,2),M=C[0],q=C[1],I=function(){return Math.floor(10*Math.random()+0)},A=function(e,t){var s=!0;return e.forEach((function(e){var i=Object(r.a)(e,2),a=i[0],n=i[1];return 10===a||10===n||!0===t[a][n].ship?s=!1:void 0})),s},E=function(e){var t=m().createboard();return e.forEach((function(s,i){var a=I(),n=I();e[i]=Object(h.a)(Object(h.a)({},e[i]),{},{vertical:["true","false"][Math.round(Math.random())]});for(var c=[],r=0;r<s.long;)!0===s.vertical?!0===A([[n,a+r]],t)?(c.push([n,a+r]),r++):(a=I(),n=I(),r=0,c=[]):!0===A([[n+r,a]],t)?(c.push([n+r,a]),r++):(a=I(),n=I(),r=0,c=[]);s.cords.push(c),function(e,t){console.log(e);for(var s=0;s<e.cords[0].length;s++){var i=e.cords[0][s][0],a=e.cords[0][s][1];t[i][a]=Object(h.a)(Object(h.a)({},t[i][a]),{},{ship:!0,display:e.ship})}}(s,t),q(!0)})),t};return Object(l.jsxs)("div",{children:[!N&&Object(l.jsx)(x,{board:b,setcord:E}),N&&Object(l.jsx)(O,{playerboard:b,aiboard:f,player:t,ai:s,setgameover:e.setgameover,setwinner:e.setwinner}),Object(l.jsxs)("div",{className:"button-container "+(N&&"active"),children:[!N&&Object(l.jsx)("button",{className:"place-btn",onClick:function(){return function(){var e=E(a);d(Object(o.a)(e));var t=E(n);y(Object(o.a)(t))}()},children:"Place ships"}),!N&&M&&Object(l.jsx)("button",{className:"start-btn",onClick:function(){return S(!0)},children:"Start game"})]})]})},y=(s(23),function(e){return Object(l.jsx)("div",{className:"board-container",children:Object(l.jsxs)("div",{className:"legend-container",children:[Object(l.jsxs)("div",{className:"sqaure-container",children:[Object(l.jsx)("div",{className:"ship"}),Object(l.jsx)("h4",{children:"Ship"})]}),Object(l.jsxs)("div",{className:"sqaure-container",children:[Object(l.jsx)("div",{className:"shiphit"}),Object(l.jsx)("h4",{children:" Ship hit"})]}),Object(l.jsxs)("div",{className:"sqaure-container",children:[Object(l.jsx)("div",{className:"openwater"}),Object(l.jsx)("h4",{children:"Openwater"})]}),Object(l.jsxs)("div",{className:"sqaure-container",children:[Object(l.jsx)("div",{className:"miss",children:"X"}),Object(l.jsx)("h4",{children:"Miss"})]}),Object(l.jsx)("div",{className:"button-container",children:Object(l.jsxs)("button",{className:"startbutton",onClick:function(){return e.setgameover(!1)},children:[Object(l.jsx)("h3",{children:"Lets do battle"}),Object(l.jsx)("img",{src:"https://img.icons8.com/ios-filled/30/00000/cannon.png",alt:"cannon"})]})})]})})}),g=(s(24),function(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("h1",{children:"Battleships"})})});var k=function(){var e=Object(i.useState)(!0),t=Object(r.a)(e,2),s=t[0],a=t[1];return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(g,{}),s&&Object(l.jsx)(y,{setgameover:a}),!s&&Object(l.jsx)(f,{setgameover:a})]})};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.674e0adb.chunk.js.map